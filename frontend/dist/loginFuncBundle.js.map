{"version":3,"file":"loginFuncBundle.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,6EAA6E,6BAA6B;AAC1G,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,uBAAuB;AAC9G,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,CAAC,EAAE,E","sources":["webpack://frontend/./src/js/page_actions/loginFuncionario.js"],"sourcesContent":["const email = document.getElementById('email');\r\nconst password = document.getElementById('password');\r\nconst button = document.getElementById('loginButton');\r\n\r\nbutton.addEventListener('click', async () => {\r\n  const emailText = email.value;\r\n  const passwordText = password.value;\r\n  console.log(emailText, passwordText)\r\n\r\n  try {\r\n    const response = await fetch('http://localhost:3001/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        email: emailText,\r\n        password: passwordText\r\n      })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (response.ok) {\r\n      // Redireciona se login for bem-sucedido\r\n      window.location.href = `http://localhost:5500/src/pages/home.html?id=${encodeURIComponent(data._id)}`;\r\n    } else {\r\n      alert(data.message || \"Erro ao fazer login.\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Erro na requisição:\", err);\r\n    alert(\"Erro de conexão com o servidor.\");\r\n  }\r\n});\r\n\r\n/*const UserService = require('../services/userServices');\r\nconst userService = new UserService();\r\n\r\nconst email = document.getElementById('email');\r\nconst password = document.getElementById('password');\r\nconst button = document.getElementById('loginButton');\r\n\r\nbutton.addEventListener('click', async ()=>{\r\n    const emailText = email.value;\r\n    const passwordText = password.value;\r\n\r\n    userService.getUserByAuth(emailText).then((userData)=>{\r\n        if(userData.length != 0 && userData[0] != undefined){\r\n            if(userData[0].email == emailText && userData[0].password == passwordText){\r\n                const id = userData[0]._id;\r\n                window.location.href = `http://localhost:5500/src/pages/home.html?id=${encodeURIComponent(id)}`;\r\n            }else{\r\n                window.alert(\"email or password incorrect\");\r\n            }\r\n        }else{\r\n            window.alert(\"User not finded\");\r\n        }\r\n    }).catch((error)=>{\r\n        window.alert(\"Connection error\");\r\n        console.error(error);\r\n    });\r\n});*/"],"names":[],"sourceRoot":""}